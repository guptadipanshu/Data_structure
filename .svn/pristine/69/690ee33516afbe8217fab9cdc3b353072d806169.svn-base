#include <iostream>
#include <string>
#include <vector>
#include <map>
#include <utility>
#include <ctime>
#include <cstdlib>
#include <string>
#include "dictionary.h"
using namespace std;

int main(int argc, char* argv[])
{
    //Dictionary<string, int> dict;
    //cout << "Empty? " << dict.isEmpty() << endl;

    //dict.insert("hello", 42);
    //dict.insert("hell", 41);
    //dict.insert("he",38);
   
  /*  Dictionary<string, char> dict;

    dict.insert("a", 'a');
    dict.insert("b", 'b');
    dict.insert("c", 'c');
    dict.insert("d", 'd');
    dict.insert("e", 'e');
    dict.insert("f", 'e');
    dict.insert("g", 'h');
    dict.insert("h", 'i');
    dict.insert("i", 'j');
    dict.insert("f", 'j');
    dict.insert("im", 'j');
    dict.insert("id", 'j');
    cout << "find(\"a\"): " << dict.find("a") << endl;
    cout << "find(\"b\"): " << dict.find("b") << endl;
    cout << "find(\"c\"): " << dict.find("c") << endl;
    cout << "find(\"d\"): " << dict.find("d") << endl;
    cout << "find(\"e\"): " << dict.find("e") << endl;
    
    */
    
   /* Dictionary<int, int> dict;
    map<int, int> soln;

    srand(1234);
    for(int i = 0; i < 50; ++i)
    {
        // if duplicate key, ignore!!
        int key = rand() % 1000;
        int value = rand() % 1000;
        //cout<<"insert "<<key<<"\n";
        cout<<"insert key "<<key<<" value "<<value<<"\n";
        dict.insert(key, value);
        soln.insert(make_pair(key, value));
    }
	int i=0;
    for(map<int, int>::iterator it = soln.begin(); it != soln.end(); ++it)
	{	i++;
		if(dict.find(it->first) != it->second)
		cout<<"key "<<it->first<<" val "<<dict.find(it->first)<<" "<<"expected value "<<it->second<<" "<<"\n";
			
	}
    */
    
    
   // cout << "Empty? " << dict.isEmpty() << endl;
   // cout << "keyExists(\"hello\"): " << dict.keyExists("hello") << endl;
  //  cout << "find(\"hello\"): " << dict.find("hello") << endl;
//cout << "find(\"hell\"): " << dict.find("hell") << endl;
  
  // cout << "find(\"he\"): " << dict.find("he") << endl;
   //cout << "find(\"invalid\"): " << dict.find("k") << endl;
   // dict.remove("hello");
   // cout << "Empty? " << dict.isEmpty() << endl;
   
   
   
  /* Dictionary<string, string> dict;
    
    dict.insert("abcdef", "");
    dict.insert("ghijkl", "first");
    dict.insert("mnopqr", "");
    dict.insert("tester", "123");
    dict.insert("toper", "123");
		    
    dict.remove("ghijkl");
    //cout<<"we are again inserting\n";
    //dict.insert("ghijkl", "second");
   //cout<<dict.find("ghijkl");
*/

    /*Dictionary<int, int> dict;
    map<int, int> soln;

    // insert a bunch of keys
    srand(4747);
    for(int i = 0; i < 15; ++i)
    {
        // if duplicate key, ignore!!
        int key = rand() % 1000;
        int value = rand() % 1000;
        dict.insert(key, value);
        soln.insert(make_pair(key, value));
    }

    // randomly remove half

    vector<int> toRemove;
    for(map<int, int>::iterator it = soln.begin(); it != soln.end(); ++it)
    {
        if(rand() % 2)
            toRemove.push_back(it->first);
    }

    for(vector<int>::iterator rem = toRemove.begin(); rem != toRemove.end(); ++rem)
    {
        soln.erase(soln.find(*rem));
      	 dict.remove(*rem);
    }

    // make sure the removed half is gone
    for(vector<int>::iterator rem = toRemove.begin(); rem != toRemove.end(); ++rem)
      if(dict.keyExists(*rem)==true)
      	cout<<"here\n";
      	

    // make sure the other half is still there
    for(map<int, int>::iterator it = soln.begin(); it != soln.end(); ++it)
       if(dict.find(it->first) != it->second)
       {
       		cout<<"key "<<it->first<<" val "<<dict.find(it->first)<<" "<<"expected value "<<it->second<<" "<<"\n";
			
       }
*/


/*
    Dictionary<string, int>* d1 = new Dictionary<string, int>;
    d1->insert("a", 1);
    d1->insert("b", 2);
    d1->insert("c", 3);
    
   Dictionary<string, int>* d2 = new Dictionary<string, int>(*d1);
   delete d1;
   // cout<<d2->find("a");
    //ASSERT(d2->find("b") == 2);
    //ASSERT(d2->find("c") == 3);
   delete d2;
*/
    return 0;
}
